# ChordFinder

[→実装](../impl/chordfinder.md)

## 概要

- 渡されたコード構成音から、構成音の一致するコードの一覧を返す
- それぞれのコードに（単純さなどの指標による）優先度を付けて、最も一般的な表記のコードの優先度がもっとも高くなるようにする
- キーが指定されている場合はディグリーネームも併記する
- 参考ツール：[ChordFinder](https://kkkgg.github.io/chord_finder/index.html)

## 仕様

### 構成音について

- コード構成音は順不同で処理する
  - 同じ音階の音が複数含まれていても無視する（一つとして扱う）
  - ただし、ルート音はコード構成音とは別で記憶しておく

### コードネームの表記ルールについて

- 以下に示す表記のみを用いる
  - ルート音の音階（C、C#、D、D#、E、F、F#、G、G#、A、A#、B）
  - m（マイナー）
  - sus2、sus4
  - aug
  - dim
  - (♭5)
  - (omit3)、(omit5)
  - M7、7（セブンス）
  - 6（シックス）
  - (#9)、(11) など（テンション）
  - add
  - C/D など（分数コード）
- 括弧表記が連続する場合、連続して表記する
  - 例：C7(9)(omit5)
- (♭5)、(#9)などに見られるコードネーム中の変化記号について、  
  それぞれ(-5)、(+9)のように表記されることがあるが、ここでは#、♭を用いた表記で統一する

### ディグリーネームの表記ルールについて

- 基本的には単純にコードネームをⅠ～Ⅶに置き換える
- マイナーキーではⅢ、Ⅵ、Ⅶに♭をつける（♭Ⅲ、♭Ⅵ、♭Ⅶ）

### 優先度について